platform: linux

image_resource:
  type: docker-image
  source:
    repository: microsoft/dotnet
    tag: 2.2-sdk

inputs:
  - name: source

params:
  PUBLISH_TYPE: Release
  SOURCE_NAME:

outputs:
  - name: compile

run:
  path: sh
  args:
  - -exc
  - |
     
     pushd source/src/${SOURCE_NAME}
       dotnet publish -c ${PUBLISH_TYPE} -o ../../../compile
     popd
